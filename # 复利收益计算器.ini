# 复利收益计算器
def calculate_compound_interest(principal, rate, years, times_per_year=1):
    """
    计算复利收益
    :param principal: 初始投资金额
    :param rate: 年利率（百分比形式，例如 5 表示 5%）
    :param years: 投资年限
    :param times_per_year: 每年的复利次数（默认为 1，即年复利）
    :return: 最终金额
    """
    rate_decimal = rate / 100  # 将百分比利率转换为小数
    final_amount = principal * (1 + rate_decimal / times_per_year) ** (times_per_year * years)
    return final_amount

# 用户输入
print("欢迎使用复利收益计算器！")
principal = float(input("请输入初始投资金额（元）："))
rate = float(input("请输入年利率（%）："))
years = int(input("请输入投资年限（年）："))
times_per_year = int(input("请输入每年的复利次数（例如 1 表示年复利，12 表示月复利）："))

# 计算复利收益
final_amount = calculate_compound_interest(principal, rate, years, times_per_year)
print(f"\n经过 {years} 年后，您的投资将增长到：{final_amount:.2f} 元")

# 可视化投资增长
import matplotlib.pyplot as plt
import numpy as np

# 生成每年的数据
time_points = np.arange(0, years + 1, 1)
growth = [calculate_compound_interest(principal, rate, t, times_per_year) for t in time_points]

# 绘制增长曲线
plt.plot(time_points, growth, marker='o', color='green', label='投资增长曲线')
plt.title('投资复利增长曲线')
plt.xlabel('投资年限（年）')
plt.ylabel('金额（元）')
plt.grid(True)
plt.legend()
plt.show()
